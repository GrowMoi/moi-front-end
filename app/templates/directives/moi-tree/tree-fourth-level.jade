.tree.fourth-level
  .tree-img
    img(src="images/tree/level-4/arbol-gris-4.png")
    img.tree-root(src="images/tree/level-4/tronco-level-4.png")
    .tree-branch(ng-repeat="child in treeVm.neurons.root.children track by $index"
                ng-init="indexLevel2=$index"
                class="branch-level-2 second-level-branch-{{indexLevel2}} {{child.state}}")
      .tree-branch(ng-repeat="child1 in child.children track by $index"
                    ng-init="indexLevel3=$index"
                    class="branch-level-3 third-level-branch-{{indexLevel2}}{{indexLevel3}} {{child1.state}}")
        .tree-branch(ng-repeat="child2 in child1.children track by $index"
                      ng-init="indexLevel4=$index"
                      class="branch-level-4 fourth-level-branch-{{indexLevel2}}{{indexLevel3}}{{indexLevel4}} {{child2.state}}")
  .tree-neuron-root.neuron(class="{{treeVm.neurons.root.state}} neuron")
    moi-neuron(options="treeVm.neurons.root" id='root' level="4")
  .tree-neuron-root(ng-repeat="child in treeVm.neurons.root.children track by $index"
                    ng-init="indexLevel2=$index"
                    class="second-level-{{indexLevel2}} {{child.state}} neuron")
    moi-neuron(options="child" id='second-level-{{indexLevel2}}' level="4")
    // TODO a better way to calculate classes
    .tree-neuron-root(ng-repeat="child1 in child.children track by $index"
                      ng-init="indexLevel3=$index"
                      class="third-level-{{indexLevel2}}{{indexLevel3}} {{child1.state}} neuron")
      moi-neuron(options="child1" id='third-level-{{indexLevel2}}{{indexLevel3}}' level="4")
      .tree-neuron-root(ng-repeat="child2 in child1.children track by $index"
                        ng-init="indexLevel4=$index"
                        class="fourth-level-{{indexLevel2}}{{indexLevel3}}{{indexLevel4}} {{child2.state}} neuron")
        moi-neuron(options="child2" id='fourth-level-{{indexLevel2}}{{indexLevel3}}{{indexLevel4}}' level="4")
